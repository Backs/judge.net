@model List<Judge.Application.ViewModels.Admin.Languages.LanguageEditViewModel>
@{
    ViewBag.Title = "Языки";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@ViewBag.Title</h2>
@using (Html.BeginForm())
{
    <table class="table table-condensed" id="languages">
        <thead>
            <tr>
                <th>Название</th>
                <th>Описание</th>
                <th>Компилируемый</th>
                <th>Путь до компилятора</th>
                <th>Опции компилятора</th>
                <th>Исполняемый файл</th>
                <th>Опции запуска</th>
                <th>Доступен</th>
            </tr>
        </thead>

        @foreach (var item in Model)
        {
            <tr>
                @Html.Partial("Admin/Languages/_LanguageEditView", item)
            </tr>
        }

    </table>
    <input type="button" value="Добавить" class="btn btn-info" id="add" />
    <input type="submit" value="Сохранить" class="btn btn-success" />
}

@section scripts{
    @Scripts.Render("~/bundles/jqueryval")

    <script type="text/javascript">
        $(function() {
            $("#add").click(function() {
                $.get('@Url.Action("Language")', function (data) {
                    $("#languages > tbody").append('<tr>'+data+'</tr>');
                });
            });
        });
    </script>
}
